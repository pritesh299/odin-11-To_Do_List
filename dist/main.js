(()=>{"use strict";class t{constructor(t,e){this.name=t,this.id=e,this.tasks=[]}getName(){return this.name}setTasks(t){this.tasks=t}getID(){return this.id}setID(t){this.id=t}addTask(t){this.tasks.push(t)}getTask(t){return this.tasks.find((e=>e.getID()===t))}deleteTask(t){this.getTask(t),s(t,this.tasks)}}class e{constructor(t,e="none",s="low",n){this.name=t,this.date=e,this.priority=s,this.id=n}getName(){return this.name}getID(){return this.id}setID(t){this.id=t}getDate(){return this.date}getPriority(){return this.priority}get dateInFormat(){const t=this.date.split("-")[0];return`${this.date.split("-")[1]}/${t}/${this.date.split("-")[2]}`}}function s(t,e){for(let s=t;s<e.length;s++)e[t]=e[t+1],t+=1;return e.pop(),e}const n=document.getElementById("project_list"),a=document.getElementById("task_list"),d=document.getElementById("project_headText");let c=0;function r(t){let e=p.getProject(t).tasks.length-1,s=document.createElement("div"),n=document.createElement("div"),d=document.createElement("div"),c=document.createElement("input"),r=document.createElement("div"),l=document.createElement("button"),o=document.createElement("button");s.setAttribute("class","task"),s.setAttribute("id",`P${t}T${e}`),n.setAttribute("class","task_overview"),r.setAttribute("class","right"),d.setAttribute("class","left"),l.setAttribute("class","edit_task"),l.setAttribute("class","task_btn"),l.setAttribute("class","material-symbols-outlined"),o.setAttribute("class","delete_task"),o.setAttribute("class","task_btn"),o.setAttribute("class","material-symbols-outlined"),c.setAttribute("type","checkBox"),l.textContent="edit",o.textContent="delete",o.addEventListener("click",(()=>{!function(t,e){p.getProject(t).deleteTask(e)}(t,e),i(t,e)})),a.appendChild(s),s.appendChild(n),n.appendChild(d),n.appendChild(r),d.appendChild(c),r.appendChild(l),r.appendChild(o),c.insertAdjacentHTML("afterend",`<h6>${p.getProject(t).getTask(e).name}</h6>`)}function i(t,e){let s=document.getElementById(`P${t}T${e}`);a.removeChild(s)}let l=document.getElementById("Task_name"),o=document.getElementById("Priority_type"),m=document.getElementById("date");const u=document.getElementById("project_name_input");let p=new class{constructor(){this.projects=[],this.projects.push(new t("Today",0))}setProjects(t){this.projects=t}getProjects(){return this.projects}getProject(t){return this.projects.find((e=>e.getID()===t))}addProject(t){this.projects.push(t)}deleteProject(t){return s(this.projects.find((e=>e.getID()===t)).getID(),this.projects)}};const g=document.getElementById("nav_btn"),h=document.getElementById("sidebar"),k=document.getElementById("dashboard_container"),y=document.getElementById("expand"),E=document.getElementById("Projects_expand_btn"),j=document.getElementById("project_list"),_=document.getElementById("add_project_btn"),v=document.getElementById("add_prjt_pop_up"),b=document.getElementById("add_prjt_form"),I=document.getElementById("add_task_btn"),f=document.getElementById("add_task_pop_up"),B=document.getElementById("dark_background"),P=document.getElementById("add_task_form");let L=!1,T=!1;g.addEventListener("click",(()=>{L=!L,L?(h.classList.add("active"),k.classList.remove("active")):(h.classList.remove("active"),k.classList.add("active"))})),E.addEventListener("click",(()=>{T=!T,T?(j.classList.add("active"),y.innerText="expand_less"):(j.classList.remove("active"),y.innerText="expand_more")})),_.addEventListener("click",(()=>{B.style.display="flex",v.style.transform="translate(-50%, -50%) scale(1)"})),I.addEventListener("click",(()=>{B.style.display="flex",f.style.transform="translate(-50%, -50%) scale(1)"})),B.addEventListener("click",(()=>{B.style.display="none",f.style.transform="translate(-50%, -50%) scale(0)",v.style.transform="translate(-50%, -50%) scale(0)"})),b.addEventListener("submit",(e=>{e.preventDefault(),function(){let e=new t(u.value,p.projects.length);p.addProject(e)}(),function(t){let e=document.createElement("button"),s=document.createElement("span");e.classList.add("nav_btn","project"),e.setAttribute("id",`${t}`),s.classList.add("material-symbols-outlined"),e.addEventListener("click",(()=>{!function(t){console.log(`projecctID=${t},currentProjecct${c}`),console.log(p);for(let t=0;t<p.getProject(c).tasks.length;t++)i(c,t);for(let e=0;e<p.getProject(t).tasks.length;e++)console.log(`Current${e}`),r(t)}(t),c=t,d.textContent=p.getProject(c).name})),s.innerText="article",n.appendChild(e),e.appendChild(s),e.innerHTML+=p.getProject(t).name}(p.projects.length-1),B.click()})),P.addEventListener("submit",(t=>{t.preventDefault(),function(t){let s=p.getProject(t),n=new e(l.value,m.value,o.value,s.tasks.length);p.getProject(t).addTask(n),console.log(p)}(c),r(c,p.getProject(c).tasks.length),B.click()}))})();